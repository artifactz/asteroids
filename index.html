<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="media/icon.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style-tutorial.css">
    <title>asteroids</title>
  </head>
  <body>
    <div id="game-container">
      <canvas id="three-canvas"></canvas>
      <div id="ui-overlay">
        <div id="game-start-container">

          <svg id="game-start-svg" viewBox="-1 -1 107 19" xmlns="http://www.w3.org/2000/svg">
            <defs>

              <filter id="scanlineBlur">
                <feGaussianBlur in="SourceGraphic" stdDeviation="0">
                  <animate attributeName="stdDeviation" values="0.04;0.14;0.05" start="2s" dur="3.54321s" repeatCount="indefinite" />
                </feGaussianBlur>
              </filter>

              <filter id="blobBlur" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="2" />
              </filter>

              <filter id="neonBlur">
                <feGaussianBlur stdDeviation="0.5" />
                <feComponentTransfer>
                  <feFuncA type="linear" slope="2" intercept="0" />
                </feComponentTransfer>
              </filter>

              <mask id="scanlineMask">
                <g filter="url(#scanlineBlur)">
                  <pattern id="horizontalStripes" width="106" height="0.75" patternUnits="userSpaceOnUse" x="0" y="0">
                    <animate attributeName="y" values="0;-0.35;-0.55;-0.75;-0.55;-0.35;0;0.35;0.55;0.75;0.55;0.35;0" begin="2s" dur="4.2s" repeatCount="indefinite" />
                    <rect x="0" y="0" width="106" height="0.5" fill="white" />
                    <rect x="0" y="0.5" width="106" height="0.25" fill="black" />
                  </pattern>
                  <rect x="0" y="0" width="106" height="18" fill="url(#horizontalStripes)"/>
                </g>
              </mask>

              <mask id="litScanlineMask">
                <rect x="0" y="0" width="106" height="18" fill="black" />
                <g mask="url(#scanlineMask)">
                  <g>
                    <circle cx="153" cy="12" r="15" fill="#ffffff90" filter="url(#blobBlur)" />
                    <circle cx="153" cy="12" r="10" fill="#ffffff90" filter="url(#blobBlur)" />
                    <circle cx="153" cy="12" r="5" fill="#ffffff90" filter="url(#blobBlur)" />
                    <animateMotion
                      path="M0,0 L-300,0"
                      begin="2s" dur="6s" repeatCount="indefinite" />
                  </g>
                  <rect x="15" y="5" width="25" height="15" rx="2" fill="#ffffffdd" filter="url(#blobBlur)">
                    <animateMotion
                      path="M0,0 q0,-6 -6,-6 q-6,0 -6,6 q0,6 6,6 q6,0 6,-6 "
                      begin="2s"
                      dur="5s"
                      repeatCount="indefinite" />
                  </rect>
                </g>
              </mask>

              <!-- Scanline mask with a moving hole -->
              <mask id="wipedScanlineMask">
                <rect x="0" y="0" width="106" height="18" fill="black" />
                <rect x="0" y="0" width="106" height="18" fill="white" mask="url(#scanlineMask)" />
                <circle cx="53" cy="12" r="24" fill="black" filter="url(#blobBlur)">
                  <animateMotion
                    path="M-100,0 L100,0"
                    begin="0s" dur="2.907s" repeatCount="indefinite" />
                </circle>
              </mask>

              <!-- White mask with a moving hole that exhibits scanlines -->
              <mask id="scanlineWiperMask">
                <rect x="0" y="0" width="106" height="18" fill="white" />
                <circle cx="53" cy="12" r="24" fill="black" filter="url(#blobBlur)">
                  <animateMotion
                    path="M-100,0 L100,0"
                    begin="0s" dur="2.907s" repeatCount="indefinite" />
                </circle>
                <rect x="0" y="0" width="106" height="18" fill="white" mask="url(#scanlineMask)" />
              </mask>
            </defs>

            <!-- Purple glitch layer -->
            <text x="0" y="15.8" font-size="20" fill="none" stroke="#FB36FFaa" stroke-width="1px" stroke-linejoin="round" mask="url(#scanlineMask)">
              <animate attributeName="x" values="0;0.5;-0.6;0.5;0;0.2;-0.7" dur="3.5s" repeatCount="indefinite" />
              <animate attributeName="y" values="15.8;16;16.4;15.3;15.8;15.6;16.2" dur="3.1s" repeatCount="indefinite" />
              asteroids
            </text>

            <!-- Translucent fill layer -->
            <text x="0" y="15.8" font-size="20" fill="#36b4ff40" mask="url(#scanlineWiperMask)">asteroids</text>

            <!-- Glow layer -->
            <g filter="url(#neonBlur)">
              <text x="0" y="15.8" font-size="20" fill="none" stroke="#36b4ffb9" stroke-width="1px" stroke-linejoin="round" mask="url(#scanlineMask)">asteroids</text>
            </g>

            <!-- Main layer -->
            <text x="0" y="15.8" font-size="20" fill="none" stroke="#36b4ff7f" stroke-width="1px" stroke-linejoin="round" mask="url(#wipedScanlineMask)">asteroids</text>

            <!-- Lighting layer -->
            <text x="0" y="15.8" font-size="20" fill="none" stroke="#ffffffbb" stroke-width="1px" stroke-linejoin="round" mask="url(#litScanlineMask)">asteroids</text>

          </svg><br>

          <div id="start-text">Click to start</div>
        </div>

        <div class="fullscreen-container" id="pause-container">
          <div id="pause-text">PAUSED</div><br>
          <div id="options-text">Options</div><br>
          <div class="options-item-text" id="antialiasing-text">Antialiasing</div>
        </div>

        <div class="fullscreen-container" id="game-over-container">
          <div id="game-over-text">Game Over</div><br>
          <div id="game-over-continue-text">Click to continue</div>
        </div>

        <div class="fullscreen-container" id="highscores-container">
          <div id="highscores-text">Hall of Fame</div>
          <div id="highscores-table-container"><br><table id="highscores-table"></table><br></div><br>
          <div id="highscores-restart-text">[F5] to restart</div>
        </div>

        <div id="tutorial-container">
          <table id="tutorial-table">
            <tr>
              <td class="tutorial-icon-cell">
                <svg width="120" height="90" viewBox="0 0 240 180">
                  <!-- W -->
                  <rect x="90" y="30" width="60" height="60" class="icon-key icon-highlight-key" />
                  <text x="120" y="60" class="icon-label icon-highlight-label">W</text>

                  <!-- A -->
                  <rect x="20" y="100" width="60" height="60" class="icon-key" />
                  <text x="50" y="130" class="icon-label">A</text>

                  <!-- S -->
                  <rect x="90" y="100" width="60" height="60" class="icon-key icon-highlight-key" />
                  <text x="120" y="130" class="icon-label icon-highlight-label">S</text>

                  <!-- D -->
                  <rect x="160" y="100" width="60" height="60" class="icon-key" />
                  <text x="190" y="130" class="icon-label">D</text>
                </svg>
              </td>
              <td class="tutorial-text-cell">Thrust</td>
            </tr>
            <tr>
              <td class="tutorial-icon-cell">
                <svg width="60" height="96" viewBox="0 0 120 192">
                  <defs>
                    <mask id="leftButtonMask">
                      <rect x="0" y="0" width="120" height="192" fill="black" />

                      <rect x="16" y="24" width="96" height="168" rx="36" ry="36" fill="white" />
                      <rect x="56" y="20" width="100" height="168" fill="black" />
                      <rect x="12" y="91" width="60" height="102" fill="black" />
                      <rect x="50" y="36" width="16" height="42" rx="15" ry="15" fill="black" />
                    </mask>
                  </defs>

                  <!-- Mouse Body -->
                  <rect x="12" y="20" width="96" height="168" rx="42" ry="42" class="icon-mouse-body" />

                  <!-- Vertical divider Line -->
                  <line x1="60" y1="20" x2="60" y2="95" stroke="#ccc" stroke-width="4" />

                  <!-- Horizontal divider Line -->
                  <line x1="12" y1="95" x2="108" y2="95" stroke="#ccc" stroke-width="4" />

                  <!-- Scroll Wheel -->
                  <rect x="54" y="38" width="12" height="36" rx="7" ry="7" class="icon-mouse-body" />

                  <!-- Highlight for Left Mouse Button -->
                  <rect x="12" y="20" width="96" height="168" rx="42" ry="42" class="icon-highlight-button" mask="url(#leftButtonMask)" />
                </svg>
              </td>
              <td class="tutorial-text-cell">Shoot</td>
            </tr>
            <tr>
              <td class="tutorial-icon-cell">
                <svg width="50" height="50" viewBox="0 0 100 100">
                  <!-- Esc -->
                  <rect x="20" y="20" width="60" height="60" class="icon-key" />
                  <text x="50" y="60" class="icon-label">Esc</text>
                </svg>
              </td>
              <td class="tutorial-text-cell">Settings</td>
            </tr>
            <tr>
              <td class="tutorial-icon-cell">
                <svg width="50" height="50" viewBox="0 0 100 100">
                  <!-- F11 -->
                  <rect x="20" y="20" width="60" height="60" class="icon-key" />
                  <text x="50" y="60" class="icon-label">F11</text>
                </svg>
              </td>
              <td class="tutorial-text-cell">Fullscreen</td>
            </tr>
          </table>
        </div>

        <div id="thrust-bar-container"></div>
        <div id="material-container"><div>Material:</div><div id="material-text"></div></div>
        <div id="ping-arrow-container">&gt;</div>
        <div id="fps-container"><div id="fps-text"></div></div>
      </div>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
